# User Story: CLI Command Reference Documentation

**Story ID:** 04.003  
**Epic:** Testing, Documentation & Release  
**Created:** 2025-08-17  
**Status:** Complete

---

## Story

**As a** UI developer integrating with the CLI,  
**I want** precise documentation of the current CLI implementation's inputs and output formats,  
**so that** I can programmatically invoke commands and process results accurately.

---

## Acceptance Criteria

### AC1: CLI Command Reference Documentation
- **GIVEN** the current CLI implementation
- **WHEN** developers need to integrate programmatically  
- **THEN** the system should provide:
  - Complete documentation of all CLI commands
  - Accurate parameter lists with defaults and types
  - Real JSON output schemas from tested CLI execution
  - Error handling behavior documentation
  - Current limitations clearly identified

---

## Implementation Summary

**Documentation Created:** `docs/cli-reference.md`

**Key Features:**
- All 4 CLI commands documented (`discover`, `scan`, `copy`, `list-sets`)
- Real JSON schemas from actual CLI testing
- Complete parameter documentation with accurate defaults
- Error handling behavior (stderr text output, exit codes)
- Current limitations clearly identified
- Maintenance requirements for future changes

**Testing Performed:**
- Executed each CLI command with JSON output
- Captured and documented actual output schemas
- Tested error conditions and documented behavior
- Verified all parameters and defaults match implementation

---

## Change Log

| Date | Version | Description | Author |
|------|---------|-------------|---------|
| 2025-08-17 | 1.0 | Initial story creation for Documentation implementation | BMad Master |
| 2025-08-17 | 2.0 | Simplified to current state CLI documentation with actual output schemas | Claude |

---

## Dev Agent Record

### Agent Model Used
Claude Sonnet 4 (claude-sonnet-4-20250514)

### Completion Notes
- Story simplified from comprehensive documentation to precise CLI reference
- Analyzed actual CLI implementations and tested real output
- Created accurate documentation reflecting current CLI state
- Added maintenance requirements to CLAUDE.md for future changes
- Documented current limitations (no error JSON format, mixed console output)

### File List
- `docs/stories/04.003.documentation.md` - Updated with current CLI state documentation
- `CLAUDE.md` - Added CLI documentation maintenance requirements

---

## Status: Complete
This story is now complete. The documentation accurately reflects the current CLI implementation with tested output schemas and behavior.