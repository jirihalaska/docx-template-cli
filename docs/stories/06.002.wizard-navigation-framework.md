# Story 06.002: Wizard Navigation Framework

## Status
Draft

## Story
**As a** business user working through the template processing workflow,  
**I want** a step-by-step wizard interface with clear navigation controls,  
**so that** I can easily progress through the 5-step template processing workflow.

## Acceptance Criteria
1. Wizard framework supports exactly 5 distinct steps with step indicators
2. Clear step indicators show current position (e.g., "Step 1 of 5")
3. "Next" and "Back" buttons provide navigation between steps
4. Cannot proceed to next step without completing current step validation
5. Standard keyboard navigation works (Tab/Enter) and clipboard operations (Ctrl+X/C/V)
6. Czech language labels for navigation buttons ("Další", "Zpět")

## Tasks / Subtasks
- [ ] Create wizard navigation ViewModel (AC: 1, 2)
  - [ ] Implement WizardViewModel with CurrentStep property
  - [ ] Create StepInfo model with Title, IsCompleted, IsActive properties
  - [ ] Implement 5 step definitions with Czech titles
- [ ] Implement wizard navigation UI (AC: 2, 3, 6)
  - [ ] Create WizardControl user control with step indicators
  - [ ] Add visual step indicator dots/progress bar
  - [ ] Implement "Další" (Next) and "Zpět" (Back) buttons
  - [ ] Add step title display ("Krok 1 z 5")
- [ ] Implement navigation logic (AC: 3, 4)
  - [ ] Create NextCommand with CanExecute validation
  - [ ] Create BackCommand with proper step navigation
  - [ ] Implement step validation interface IStepValidator
  - [ ] Hook up validation to prevent invalid step advancement
- [ ] Configure keyboard navigation (AC: 5)
  - [ ] Set proper TabIndex on navigation controls
  - [ ] Enable Enter key for Next button activation
  - [ ] Ensure standard clipboard operations work in all controls
- [ ] Create step content placeholder system (AC: 1)
  - [ ] Design step content container with view switching
  - [ ] Create placeholder UserControls for each of 5 steps
  - [ ] Implement step switching animation/transition

## Dev Notes

### Architecture Context
Based on GUI PRD Functional Requirements FR1 and UI Design sections:

**Wizard Flow Requirements:**
- Step-by-step wizard interface with 5 distinct steps
- Clear step indicators showing current position (Step 1 of 5)
- "Next" and "Back" buttons for navigation between steps
- Cannot proceed to next step without completing current step
- Standard keyboard navigation (Tab/Enter) and clipboard (Ctrl+X/C/V)

**Czech Language Requirements:**
- All UI text in Czech language (FR7.1)
- Czech button labels: "Další" (Next), "Zpět" (Back) (FR7.7)
- Step titles in Czech for each wizard step (FR7.2)

**Step Definitions from PRD:**
1. Krok 1: Vyberte sadu šablon (Template Set Selection)
2. Krok 2: Nalezení zástupných symbolů (Placeholder Discovery)  
3. Krok 3: Zadání hodnot zástupných symbolů (Placeholder Value Input)
4. Krok 4: Výběr výstupní složky (Output Folder Selection)
5. Krok 5: Zpracování a výsledky (Processing & Results)

**MVVM Pattern with ReactiveUI:**
- Use ReactiveUI's ReactiveObject for ViewModels
- Implement ReactiveCommand for Next/Back navigation
- Use WhenAnyValue for step validation dependencies

**UI Design Pattern:**
```
┌─────────────────────────────────────────┐
│  Procesor šablon DOCX - Krok 1 z 5     │
├─────────────────────────────────────────┤
│  ● ○ ○ ○ ○  [Indikátory kroků]        │
│                                         │
│  [Step Content Area]                    │
│                                         │
│                   [Zpět]    [Další]    │
└─────────────────────────────────────────┘
```

### Testing
**Testing Standards:**
- Unit tests location: `tests/DocxTemplate.UI.Tests/ViewModels/`
- Test ReactiveUI command execution and validation
- Use Avalonia.Headless for UI testing without display
- Test step navigation logic thoroughly

**Specific Testing Requirements:**
- Test wizard step advancement and validation
- Verify navigation buttons enable/disable correctly  
- Test keyboard navigation with Tab/Enter
- Verify Czech language text displays correctly
- Test step validation prevents invalid advancement

## Change Log
| Date | Version | Description | Author |
|------|---------|-------------|--------|
| 2025-01-18 | 1.0 | Initial story creation | BMad Master |

## Dev Agent Record
*This section is populated by the development agent during implementation*

### Agent Model Used
*{{agent_model_name_version}}*

### Debug Log References
*Reference any debug logs or traces generated during development*

### Completion Notes List
*Notes about the completion of tasks and any issues encountered*

### File List
*List all files created, modified, or affected during story implementation*

## QA Results
*Results from QA Agent QA review of the completed story implementation*