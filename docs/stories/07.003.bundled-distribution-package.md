# Story 07.003: Bundled Distribution Package

## Status
Draft

## Story
**As a** end user,  
**I want** a single download that includes both GUI and CLI executables,  
**so that** I get a complete solution that works immediately without hunting for separate components.

## Acceptance Criteria
1. Create single distribution package containing both GUI and CLI executables
2. GUI executable and CLI executable are in same directory in distribution
3. Distribution package available for Windows (zip/installer) and macOS (app bundle/dmg)
4. Both executables are self-contained (no separate .NET runtime installation required)
5. Single download provides complete solution for both technical and business users
6. Version numbers synchronized between GUI and CLI executables
7. Distribution includes minimal documentation (README with quick start)

## Tasks / Subtasks
- [ ] Create unified build pipeline (AC: 1, 6)
  - [ ] Modify build scripts to produce both GUI and CLI executables
  - [ ] Ensure version synchronization across both executables
  - [ ] Create combined output directory structure
  - [ ] Validate both executables are built from same commit
- [ ] Implement Windows distribution packaging (AC: 3, 4)
  - [ ] Create self-contained Windows GUI executable
  - [ ] Create self-contained Windows CLI executable  
  - [ ] Package both in zip file with proper directory structure
  - [ ] Optional: Create MSI installer for Windows
  - [ ] Test installation and execution on clean Windows systems
- [ ] Implement macOS distribution packaging (AC: 3, 4)
  - [ ] Create self-contained macOS GUI executable
  - [ ] Create self-contained macOS CLI executable
  - [ ] Create macOS app bundle (.app) containing both executables
  - [ ] Optional: Create DMG package for easier distribution
  - [ ] Test installation and execution on clean macOS systems
- [ ] Create distribution documentation (AC: 7)
  - [ ] README with quick start guide
  - [ ] Installation instructions for each platform
  - [ ] Basic usage examples for both GUI and CLI
  - [ ] Troubleshooting section for common issues
- [ ] Implement automated distribution testing (AC: 5)
  - [ ] Test GUI can find and execute CLI in distribution
  - [ ] Test CLI works independently from distribution
  - [ ] Verify no missing dependencies on clean systems
  - [ ] Test complete workflow end-to-end from distribution

## Dev Notes
### Architecture Context
- Distribution packages built by CI/CD pipeline on release tags
- Self-contained executables include .NET runtime (no external dependencies)
- Directory structure: GUI executable, CLI executable, README.md in same folder
- Version information embedded in both executables for compatibility checking

### Platform-Specific Considerations
**Windows:**
- GUI: `DocxTemplate.UI.exe`
- CLI: `docx-template.exe` 
- Package formats: ZIP (portable), MSI (optional installer)

**macOS:**
- GUI: `DocxTemplate.UI` (inside .app bundle if packaged as app)
- CLI: `docx-template` (no extension)
- Package formats: .app bundle, DMG (optional)

### Build Pipeline Requirements
- `dotnet publish` with self-contained deployment
- Both executables in same output directory
- Automated packaging scripts for each platform
- Release artifacts uploaded to GitHub Releases

### Testing Standards
- Distribution tests in `DocxTemplate.Tests/Distribution/` 
- Test on clean VMs/containers without development tools
- Verify complete functionality from packaged distribution
- Use arrange, act, assert pattern for distribution validation tests

## Change Log
| Date | Version | Description | Author |
|------|---------|-------------|--------|
| 2025-08-18 | 1.0 | Initial story creation for FR15 implementation | BMad Master |

## Dev Agent Record
_(This section is populated by the development agent during implementation)_

## QA Results  
_(Results from QA Agent QA review of the completed story implementation)_